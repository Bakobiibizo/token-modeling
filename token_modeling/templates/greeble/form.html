<!-- Validated Form (Copy & Paste Ready)
Email group validates via HTMX before the full submission. Server responses swap the group or append
an out-of-band toast for success.
-->
<section class="greeble-validated-form" aria-labelledby="signup-heading">
  <header class="greeble-validated-form__header">
    <h2 id="signup-heading" class="greeble-heading-2">Request early access</h2>
    <p>We’ll review your workspace and send a magic link once you’re approved.</p>
  </header>

  <form
    class="greeble-validated-form__body"
    hx-post="/form/submit"
    hx-target="#form-status"
    hx-swap="innerHTML"
  >
    <div class="greeble-field">
      <label class="greeble-field__label" for="form-name">Full name</label>
      <input class="greeble-input" id="form-name" name="name" type="text" autocomplete="name" required />
    </div>

    <div
      id="form-email-group"
      class="greeble-field"
      hx-post="/form/validate"
      hx-trigger="change from:#form-email, keyup delay:400ms from:#form-email, blur from:#form-email"
      hx-target="#form-email-group"
      hx-swap="outerHTML"
      hx-include="#form-email"
    >
      <label class="greeble-field__label" for="form-email">Work email</label>
      <input
        class="greeble-input"
        id="form-email"
        name="email"
        type="email"
        autocomplete="email"
        aria-describedby="form-email-hint"
        required
      />
      <p class="greeble-field__hint" id="form-email-hint">Use your company domain for faster approval.</p>
    </div>

    <label class="greeble-checkbox">
      <input class="greeble-checkbox__input" type="checkbox" name="updates" value="1" checked />
      <span class="greeble-checkbox__label">Send me product updates and launch resources.</span>
    </label>

    <div class="greeble-validated-form__actions">
      <button class="greeble-button greeble-button--primary" type="submit">Request access</button>
      <span class="greeble-validated-form__support">We respond within 1–2 business days.</span>
    </div>
  </form>

  <div id="form-status" class="greeble-validated-form__status" aria-live="polite"></div>
</section>
